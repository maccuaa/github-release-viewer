(this["webpackJsonpgithub-release-viewer"]=this["webpackJsonpgithub-release-viewer"]||[]).push([[0],{140:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),i=n.n(c),o=(n(140),n(249)),s=n(20),l=n.n(s),u=n(30),j=n(18),b=n(235),d=n(123),h=n(234),p=n(7),x=function(){return Object(p.jsxs)(d.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(p.jsx)(h.a,{color:"inherit",href:"https://material-ui.com/",children:"Andrew MacCuaig"})," ",(new Date).getFullYear(),"."]})},m=Object(b.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(3,2),marginTop:"auto"}}})),O=function(){var e=m();return Object(p.jsx)("footer",{className:e.footer,children:Object(p.jsx)(x,{})})},g=n(236),f=n(237),v=n(90),w=n(125),k=function(e){return Object(p.jsx)(w.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(p.jsx)("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}))},y=Object(b.a)((function(e){return{icon:{marginRight:e.spacing(2)}}})),C=function(){var e=y();return Object(p.jsx)(g.a,{position:"relative",children:Object(p.jsxs)(f.a,{children:[Object(p.jsx)(k,{className:e.icon,viewBox:"0 0 16 16"}),Object(p.jsx)(d.a,{variant:"h6",color:"inherit",noWrap:!0,children:"GitHub Release Viewer"})]})})},R=n(244),S=n(248),N=n(247),_=n(243),A=n(245),D=n(246),W=n(185),G=n(238),H=n(239),B=n(240),P=n(241),U=n(242),z=n(120),E=n.n(z),F=n(21),M=n(250),T=n(251),I=n(91),J=new(n(122).a),V=new RegExp("(?:https?://)?github.com/([A-z0-9-_]+)/([A-z0-9-_]+)/?"),L=/&page=(\d+)/,Y=function(e){if(!V.test(e))return"Please enter a valid GitHub URL"},$=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){var r,c,i,o,s,u,b,d,h,p,x,m,O,g,f,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=1,c=[],e.next=4,J.repos.listReleases({owner:t,repo:n,per_page:100,page:1});case 4:if(i=e.sent,c.push.apply(c,Object(I.a)(i.data)),o=i.headers.link){e.next=9;break}return e.abrupt("return",c);case 9:if(s=o.split(","),u=Object(j.a)(s,2),b=u[1],null!==(d=L.exec(b))){e.next=14;break}return console.log("Unable to extract last page # from",b),e.abrupt("return",c);case 14:h=Number(d[1]);case 15:if(!(r<h)){e.next=29;break}return r++,e.next=19,J.repos.listReleases({owner:t,repo:n,per_page:100,page:r});case 19:if(O=e.sent,c.push.apply(c,Object(I.a)(O.data)),g=null!==(p=O.headers["x-ratelimit-remaining"])&&void 0!==p?p:0,f=null!==(x=O.headers["x-ratelimit-limit"])&&void 0!==x?x:0,v=null!==(m=O.headers["x-ratelimit-reset"])&&void 0!==m?m:0,a(r,h,Number(g),Number(f),Number(v)),0!==g){e.next=27;break}return e.abrupt("return",c);case 27:e.next=15;break;case 29:return e.abrupt("return",c);case 30:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),q=n(118),K=n(121),Q=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},cardGrid:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(3,2),marginTop:"auto"}}})),X=function(){var e=Q(),t=r.a.useState(null),n=Object(j.a)(t,2),a=n[0],c=n[1],i=r.a.useState(!1),o=Object(j.a)(i,2),s=o[0],b=o[1],x=r.a.useState(null),m=Object(j.a)(x,2),g=m[0],f=m[1],v=r.a.useState(null),w=Object(j.a)(v,2),k=w[0],y=w[1],z=r.a.useState(null),I=Object(j.a)(z,2),J=I[0],L=I[1],X=r.a.useState(null),Z=Object(j.a)(X,2),ee=Z[0],te=Z[1];r.a.useEffect((function(){console.info("connecting to websocket...");var e=Object(q.io)("http://127.0.0.1:8088");e.on("connect",(function(){console.log("Connected",e.id)}))}),[]);var ne=function(e,t,n,a,r){f(100*e/t),y(n),te(a),L(r)},ae=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url,null!==(a=V.exec(n))){e.next=5;break}return console.log("Unable to extract any results from",n),e.abrupt("return");case 5:if(!(a.length<3)){e.next=8;break}return console.log("Unable to extract the right number of results from",n),e.abrupt("return");case 8:return r=a[1],i=a[2],b(!0),console.log("Fetching releases for",r,i),e.prev=12,e.next=15,$(r,i,ne);case 15:o=e.sent,c(o),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),console.error(e.t0.message);case 22:return e.prev=22,b(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[12,19,22,25]])})));return function(t){return e.apply(this,arguments)}}(),re=function(e){e.target.select()};return console.log(ee),Object(p.jsxs)("div",{className:e.root,children:[Object(p.jsx)(C,{}),Object(p.jsxs)("main",{children:[Object(p.jsx)("div",{className:e.heroContent,children:Object(p.jsxs)(G.a,{maxWidth:"sm",children:[Object(p.jsx)(F.b,{onSubmit:ae,initialValues:{url:"https://github.com/mui-org/material-ui"},children:function(e){var t=e.handleSubmit,n=e.valid;return Object(p.jsx)("form",{onSubmit:t,children:Object(p.jsx)(K.a,{name:"url",fullWidth:!0,variant:"outlined",placeholder:"https://github.com/mui-org/material-ui",fieldProps:{validate:Y},onClick:re,InputProps:{startAdornment:Object(p.jsx)(B.a,{position:"start",children:Object(p.jsx)(E.a,{})}),endAdornment:n&&Object(p.jsx)(B.a,{position:"end",children:Object(p.jsx)(H.a,{onClick:t,children:"Go"})})}})})}}),Object(p.jsxs)(P.a,{container:!0,direction:"row",justify:"space-between",children:[Object(p.jsx)(P.a,{item:!0,children:null!==k&&Object(p.jsxs)(d.a,{variant:"caption",children:["Rate Remaining: ",k]})}),Object(p.jsx)(P.a,{item:!0,children:null!==J&&Object(p.jsxs)(d.a,{variant:"caption",children:["Rate Reset: ",Object(M.a)(new Date(1e3*J),"HH:mm:ss")]})})]})]})}),s&&Object(p.jsx)(U.a,{variant:null===g?"indeterminate":"determinate",value:null===g?void 0:g}),null!==a&&Object(p.jsx)(G.a,{className:e.cardGrid,maxWidth:"md",children:Object(p.jsx)(P.a,{container:!0,spacing:4,children:Object(p.jsx)(_.a,{component:W.a,children:Object(p.jsxs)(R.a,{children:[Object(p.jsx)(A.a,{children:Object(p.jsxs)(D.a,{children:[Object(p.jsx)(N.a,{children:"Release Name"}),Object(p.jsx)(N.a,{children:"Date Published"})]})}),Object(p.jsx)(S.a,{children:null===a||void 0===a?void 0:a.map((function(e){var t;return Object(p.jsxs)(D.a,{children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(h.a,{href:e.html_url,target:"_blank",rel:"noopener",children:e.name||e.tag_name})}),Object(p.jsx)(N.a,{children:"".concat(Object(T.a)(new Date(null!==(t=null===e||void 0===e?void 0:e.published_at)&&void 0!==t?t:Date.now()))," ago")})]},e.id)}))})]})})})})]}),Object(p.jsx)(O,{})]})};var Z=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.a,{}),Object(p.jsx)(X,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Z,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.52d0c75c.chunk.js.map